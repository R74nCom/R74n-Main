<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="description" content="Content idea generation tools.">
    <meta name="keywords" content="R74n, R47n">
    <meta name="author" content="R74n">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="twitter:image:alt" content="R74n">
    <meta name="twitter:image" content="/icons/avatar.png">
    <title>Content Generator - R74n</title>
    <link rel="stylesheet" type="text/css" href="../normalize.css">
    <link rel="stylesheet" type="text/css" href="../stylesheet.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#00ffff">
    <link rel="icon" type="image/x-icon" sizes="40x40" href="/icons/favicon.ico">
    <meta name="theme-color" content="#000000">

    <script src="../load.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

    <script src="data.js"></script>
    <script src="../cook/foodData.js"></script>

    <script>
      const commentTypes = {
        "youtube": {
          templates: ["sandboxelsMake", "sandboxelsMix"]
        }
      };

      const commentTemplates = {
        "sandboxelsMake": [
          "$but you can't make $elem",
          "$but can you make $elem",
          "$please try making $elem",
          "$bet it doesn't have $elem",
          "add $elem $please",
          "make $elem WITHOUT using $elem",
          "$bet you can't make $elem WITHOUT using $elem",
          "how do i make $elem",
          "make $elem bet you can't",
          "how about you make $elem"
        ],
        "sandboxelsMix": [
          "mix $combo",
          "try mixing $combo",
          "what does $combo make",
        ]
      }

      const usernameTemplates = [
        "[NAME] x[NUMBER]x",
        "[NAME] [THE] [JOB]",
        "[NAME] [LETTER][NUMBER]",
        "[MR] [NAME]",
        "[THING] [FAN][NUMBER]",
        "[NAME] [YEAR]",
        "[NAME][SURNAME] [YEAR]",
        "[NAME] [LETTER][YEAR]",
        "[NAME][THING][NUMBER]",
        "[THING] [YEAR,NUMBER]",
        "[NAME][notfound,ishere,nothere,shere,gaming,plays][NUMBER]",
        "[NAME][LETTERS] [YEAR,NUMBER]",
        "[NAME][SURNAME]-[LETTER][DIGIT][LETTER]"
      ]
      const usernameFormatters = {
        NAME: () => choose(firstNames),
        SURNAME: () => choose(lastNames),
        NUMBER: () => Math.random() < 0.33 ? choose([123,67,69]) : randRange(0,300),
        DIGIT: () => randRange(1,9),
        JOB: () => choose(["gamer","fisher","crafter","chemist","coder"]),
        LETTER: () => choose("qwertyuiopasdfghjklzxcvbnm"),
        LETTERS: () => choose("qertyuiopadfghjlzcvbnm").repeat(randRange(2,4)),
        MR: () => choose(["mr","mrs","miss","sir"]),
        THING: () => choose(wordList),
        YEAR: () => randRange(2000,2012),
        FAN: () => choose(["fan", "enjoyer"]),
        THE: () => choose(["the", "da"]),
      }
      function chooseUsername() {
        let template = choose(usernameTemplates);
        template = template.replace(/\[[\w,]+\]/g, (match) => {
          let formatter = choose(match.substring(1,match.length-1).toUpperCase().split(","));
          console.log(formatter);
          let result;
          if (usernameFormatters[formatter]) result = usernameFormatters[formatter]();
          else result = formatter.toLowerCase();
          result = randomCase(result);
          return result;
        })
        template = template.replace(/ /g, choose(["_","-",""]))
        return template;
      }

      function elementName(element) {
        return element.replace(/_/g, " ");
      }
      function titleCase(str) {
        str = str.toString();
        str = str.replace(/_/g, " ");
        if (Math.random() < 0.75) str = str.replace(/ And /g, " and ");
        return str.replace(
          /(?:^| )[A-Za-zÀ-ÖØ-öø-ÿ]/g,
          text => text.toUpperCase()
        );
      }
      function sentenceCase(str) {
        str = str.toString();
        str = str.replace(/^./, (text) => text.toUpperCase());
        return str;
      }
      function lowerCase(str) {
        str = str.toString();
        return str.toLowerCase();
      }
      function upperCase(str) {
        str = str.toString();
        return str.toUpperCase().replace(/ AND /g, " and ");
      }
      function randomCase(str) {
        if (Math.random() < 0.25) return str;
        return choose([titleCase,sentenceCase,upperCase])(str);
      }
      function randomPunctuation(str) {
        let options = ["","",".","."];
        if (str.match(/(can|does|how|what) /i)) {
          options.push("?");
          options.push(" ?");
        }
        else {
          options.push("!");
          options.push(" !");
        }
        return str + choose(options).repeat(randRange(1,3));
      }
      function chooseAvatar(element) {
        let index = randRange(1,120);
        let url = "https://raw.githubusercontent.com/R74nCom/Avatars/main/pfp"+index+".jpg";
        element.setAttribute("src", url);
      }
      function toggleIcon(element) {
        let src = element.getAttribute("src");
        if (src.match(/-yes/)) {
          src = src.replace(/-yes/,"");
        }
        else {
          src = src.replace(/\./,"-yes.");
        }
        element.setAttribute("src", src);
      }
      function toggleVisible(element) {
        if (element.style.opacity === "0") {
          element.style.opacity = "100%";
          element.style.whiteSpace = "pre";
          return;
        }
        element.style.opacity = "0%";
        element.style.whiteSpace = "";
      }

      function openTab(name) {
        document.querySelectorAll(".content .tab").forEach((tab) => {
          tab.style.display = tab.id === name ? "block" : "none";
        })
      }

      function generateIdea(type=null) {
        openTab("Comments");
        const commentType = choose(Object.keys(commentTypes));
        const comment = document.querySelector("."+commentType);
        comment.style.display = "flex";
        
        const mod = type === "mod" ? choose(Object.keys(makeableModded)) : null;

        const usernameSpan = comment.querySelector(".username");
        const dateSpan = comment.querySelector(".date");
        const editedSpan = comment.querySelector(".edited");
        const textSpan = comment.querySelector(".text");
        const avatarImg = comment.querySelector(".mainAvatar");
        const likeIcon = comment.querySelector(".likeIcon");
        const loveIcon = comment.querySelector(".loveIcon");
        const likeCount = comment.querySelector(".likes");
        const infoSpan = document.getElementById("extraInfo");

        let templateChoices = commentTypes[commentType].templates;
        if (type) templateChoices = templateChoices.filter((v) => v !== "sandboxelsMix");

        let text = choose(commentTemplates[choose(templateChoices)]);
        let elem;
        let combo;
        if (type === "ic") {
          let recipe = choose(Object.keys(dishRecipes));
          let result = dishRecipes[recipe];
          elem = result.replace(/=/g, "");
          text = text.replace(/\$elem/g, elementName(elem));
          infoSpan.innerText = recipe.replace(/\+/g, " + ").replace(/_/g, " ").replace(/@/g, "").replace(/&(\w+):/, "[$1] ").replace(/^ ?=/, " [ONLY] ");
        }
        else {
          if (text.match(/\$elem/)) {
            elem = choose(mod ? makeableModded[mod] : makeable);
            if (videoList !== null && Math.random() < 0.25) elem = choose(videoList);
            text = text.replace(/\$elem/g, elementName(elem));
          }
          if (text.match(/\$combo/)) {
            text = text.replace(/\$combo/g, () => {
              let elements = choose(mixable).split(",");
              combo = elementName(elements[0]) + " and " + elementName(elements[1]);
              return randomCase(combo);
            });
          }
          if (mod) infoSpan.innerHTML = `<a href="https://sandboxels.r74n.com/mods/${mod}.js" target="_blank">${mod}.js</a>`
          else infoSpan.innerHTML = `<a href="https://raw.githubusercontent.com/R74nCom/sandboxels/refs/heads/main/index.html" target="_blank">Source code</a>`;
        }
        text = text.replace(/\$but/g, () => choose(["", "but"]));
        text = text.replace(/\$please/g, () => choose(["", "please"]));
        text = text.replace(/\$bet/g, () => choose(["", "", "", "", "bet", "bet that", "i bet", "i bet that"]));
        if (Math.random() < 0.33) text.replace(/ and /gi, choose(["&","+"]));
        if (Math.random() < 0.5) text.replace(/'/g, "");
        if (Math.random() < 0.25) text.replace(/you/gi, "u");

        text = text.trim();
        text = randomCase(text);
        text = randomPunctuation(text);

        textSpan.innerText = text;

        if (Math.random() < 0.5) likeIcon.setAttribute("src", "assets/like-yes.png");
        else likeIcon.setAttribute("src", "assets/like.png");
        if (Math.random() < 0.5) loveIcon.setAttribute("src", "assets/love-yes.png");
        else loveIcon.setAttribute("src", "assets/love.png");
        likeCount.innerText = randRange(1,300);

        chooseAvatar(avatarImg);

        if (Math.random() < 0.5) dateSpan.innerText = randRange(1,4) + "d ago";
        else dateSpan.innerText = randRange(1,23) + "h ago";

        if (editedSpan.style.opacity !== "0") toggleVisible(editedSpan);
        if (Math.random() < 0.1) toggleVisible(editedSpan);

        usernameSpan.innerText = chooseUsername();

        let game = type === "ic" ? "infinite chef" : "sandboxels";
        let gameSearch = type === "ic" ? `("infinite chef" OR "infinitechef")` : `("sandboxels" OR "sand boxels" OR "sandboxles")`;
        let searchTerm = elem ? '"' + elem + '"' : combo;

        infoSpan.insertAdjacentHTML("beforeend", ` • 
          <a href="https://www.google.com/search?q=${encodeURIComponent(searchTerm)} ${encodeURIComponent(gameSearch)}&udm=7&nfpr=1&dpr=2" target="_blank">Video search</a>
        `)
      }

      function randomRecipes() {
        openTab("List");
        const listElem = document.querySelector("#List ol");
        listElem.innerHTML = "";
        for (let i = 0; i < 10; i++) {
          let combo = choose(mixable);
          listElem.insertAdjacentHTML("beforeend", `<li>${combo.replace(",", " + ")}</li>`);
        }
      }
      function allRecipes() {
        openTab("List");
        const listElem = document.querySelector("#List ol");
        listElem.innerHTML = "";
        mixable.forEach((combo) => {
          listElem.insertAdjacentHTML("beforeend", `<li>${combo.replace(",", " + ")}</li>`);
        })
      }

      function listSteps() {
        openTab("List");
        const listElem = document.querySelector("#List ol");
        listElem.innerHTML = `
          <li>Screenshot a random YouTube comment</li>
          <li>Open Sandboxels and resize window</li>
          <li>Plan ingredients and reactions</li>
          <li>Begin recording</li>
          <li>Transfer screenshot and video to editing device</li>
          <li>Edit video</li>
          <li>Post video to all platforms</li>
        `;
      }

      videoList = null;
      function getVideoList() {
        if (videoList) return;
        fetch("https://docs.google.com/spreadsheets/d/1MtGDzUJDv7DzjCt6Fq0eY4vuRataWrspni-l49MiaDk/gviz/tq?tqx=out:csv&sheet=Video%20List").then(response => response.text())
        .then((response) => {
          response = response.split("\n").slice(1).filter(l => !l.includes('"Meta"') && !l.includes('Modded')).join("\n");
          videoList = ("\n"+response).match(/\n"[^"]+"/g).map((l) => l.substr(1).replace(/"/g,""));
        })
        .catch(err => console.log(err))
      }
      getVideoList();
      
    </script>
    
    <style>
      .content .tab {
        display: none;
      }
    </style>

</head>

<body>

<header>
<a href="/" class="home"></a>
<h1 class="pagetitle">Content Generator</h1>
</header>

<main class="content">

<p> YouTube: 
  <button onclick="generateIdea()">Sandboxels</button>
  <button onclick="generateIdea('mod')">Modded</button>
  <button onclick="generateIdea('ic')">Infinite Chef</button>
</p>

<p>
  <button onclick="randomRecipes()">Random Recipes</button>
  <button onclick="allRecipes()">All Recipes</button>
  <button onclick="listSteps()">Content Steps</button>
  <button onclick="window.open('https:\/\/www.pinterest.com/R74nCom/cooking-video-ideas/', '_blank')">Food Board</button>
</p>

<div id="Comments" class="tab">

<p id="extraInfo"></p>

<div class="youtube">
  <div class="halfVertical halfTop">
    <div class="halfLeft">
      <img class="avatar mainAvatar" src="../icons/avatar.png" onclick="chooseAvatar(this)">
    </div>
    <div class="halfRight">
      <p class="title">
        @<span class="username" contenteditable>R74n</span>
        &nbsp;•&nbsp;
        <span class="date" contenteditable>2w ago</span>
        <span class="edited" onclick="toggleVisible(this)" style="opacity:0%">(edited)</span>
      </p>
      <p class="text" contenteditable>Cellular Mitosis</p>
    </div>
  </div>
  <div class="halfVertical halfBottom">
    <div class="halfLeft">
      <img class="avatar" src="../icons/avatar.png">
    </div>
    <div class="halfRight">
      <img class="likeIcon" src="assets/like.png" onclick="toggleIcon(this)"> <span class="likes" contenteditable>1</span>
      <img class="dislikeIcon" src="assets/dislike.png">
      <img class="commentIcon" src="assets/comment.png">
      <img class="loveIcon" src="assets/love.png" onclick="toggleIcon(this)">
    </div>
  </div>
</div>
<style>
  .youtube {
    background-color: white;
    font-family: "Roboto", Arial, Helvetica, sans-serif;
    font-size: 1.5em;
    color: #111111;
    padding: 2em;
    flex-direction: column;
    display: none;
  }
  .youtube .halfVertical {
    display: flex;
    flex-direction: row;
  }
  .youtube .halfLeft .avatar {
    width: 2em;
    height: 2em;
    border-radius: 100px;
  }
  .youtube .halfRight {
    margin-left: 1em;
  }
  .youtube .halfRight p {
    margin: 0;
    margin-bottom: 0.5em;
    font-size: 1em!important;
  }
  .youtube .halfRight p.title {
    color: #5F5F5F;
  }
  .youtube .halfBottom {
    padding-top: 1em;
  }
  .youtube .halfBottom .halfRight img {
    width: 1.5em;
    margin-left: 2.5em;
  }
  .youtube .halfBottom .halfRight img:first-of-type {
    margin-left: 0;
  }
  .youtube .halfBottom .avatar {
    opacity: 0;
  }
  .youtube img[src="assets/love-yes.png"] {
    scale: 1.3;
  }
</style>

</div>


<div id="List" class="tab">
  <ol></ol>
</div>






</main>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-93720349-6"></script>
<script>
  window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-93720349-6');
</script>

</body>
</html>