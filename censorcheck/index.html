<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="description" content="Test our high-tech swear sensor">
    <meta name="keywords" content="R74n, R47n">
    <meta name="author" content="R74n">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="twitter:image:alt" content="R74n">
    <meta name="twitter:image" content="/icons/avatar.png">
    <title>Censor Checker - R74n</title>
    <link rel="stylesheet" type="text/css" href="../normalize.css">
    <link rel="stylesheet" type="text/css" href="../stylesheet.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#00ffff">
    <link rel="icon" type="image/x-icon" sizes="40x40" href="/icons/favicon.ico">
    <meta name="theme-color" content="#000000">
    <script src="../scripts.js"></script>
    <script src="characters.js"></script>
    <script>
      function escapetext(text) {
        return text.replaceAll("\n","NEWLINE").replaceAll("\t","INDENT").replaceAll("\\","\\\\").replaceAll("/","\\/").replaceAll("(","\\(").replaceAll(")","\\)").replaceAll("|","\\|").replaceAll("[","\\[").replaceAll("]","\\]").replaceAll("{","\\{").replaceAll("}","\\}").replaceAll("*","\\*").replaceAll("+","\\+").replaceAll("?","\\?").replaceAll("^","\\^").replaceAll("$","\\$").replaceAll(".","\\.").replaceAll(",","\\,").replaceAll("-","\\-").replaceAll("NEWLINE","\\n").replaceAll("INDENT","\\t").replaceAll("REALDASH","-")
      }
      function escapejoin(l,joiner="|") {
        return escapetext(l.join("SEPARATORASDFGHKJL")).replaceAll("SEPARATORASDFGHKJL",joiner)
      }

      function generate(text) {
        return makeregex(text)
      }

      function makegroup(l,r="") {
        var singles = [];
        var multis = [];
        for (var i in l) {
          var char = l[i];
          if ([...char].length==1) {singles.push(char)}
          else {multis.push(char)}
        }
        if (r.length>0) {singles.push(r.replace("-","REALDASH"))}
        if (singles.length > 0 && multis.length > 0) {
          var pattern = "(["+escapejoin(singles,"")+"]|("+escapejoin(multis)+"))+"
        }
        else if (singles.length > 0) {
          var pattern = "["+escapejoin(singles,"")+"]+"
        }
        else if (multis.length > 0) {
          var pattern = "("+escapejoin(multis)+")+"
        }
        return pattern
      }
      separators = "("+makegroup(characters["sep"])+"|[\u0000-\u0020\u007F-\u00A0\uE000-\uF8FF\u02B0-\u036F͸͹ͺ;΀-΅΋΍΢\u0483-\u0489԰\u0557-\u0560\u0588-\u058C\u0590-\u05CF\u05EB-\u05EF\u05F5-\u0605\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE00-\uFE0F\u2000-\u200F\u2028-\u202F\u205F-\u206F\uFF00\uFFA0\uFFF9-\uFFFD\u2800-\u28FF\u2FF0-\u2FFF\u3000\u303E〿\u3099\u309A]+)?";
      function makeregex(text) {
        text = text.toLowerCase();
        var patterns = [];
        var last = "";
        for (var i in text) {
          var char = text[i];
          if (char==last) {continue}
          last = char;
          if (!(characters[char]==undefined)) {
            if (!(charranges[char]==undefined)) {
              patterns.push(makegroup(characters[char],charranges[char])+separators)
            }
            else {patterns.push(makegroup(characters[char])+separators)}
          }
          else if (characters["sep"].includes(char)) {patterns.push("("+char+"+)?")}
          else {patterns.push(escape(char)+separators)}
        }
        var pattern = unescape(patterns.join(""));
        return new RegExp(pattern,"ig")
      }
      function checktext() {
        var text = document.getElementById("TextBox").value;
        var word = document.getElementById("WordBox").value;
        if (word=="") {
          if (!(getSelected("PresetSelect").value=="none")) {
            word = getSelected("PresetSelect").value
          }
          else {
            alert("No words to be tested! Enter one in the word box or select a word list.");
            return false
          }
        }
        var words = word.split(/( +)?,( +)?/);
        var Results = document.getElementById("Results");
        var matches = [];
        for (var i in words) {
          var w = words[i];
          if (!(w==""||w==" "||w==undefined)) {
            var r = makeregex(w);
            var tempmatches = text.match(r);
            if (!(tempmatches==undefined)) {
              for (var iiii in tempmatches) {
                matches.push(tempmatches[iiii]+" ("+w+")")
              }
              //matches = matches.concat(tempmatches)
            }

          }
        }
        var final = [];
        for (var i in matches) {
          var m = matches[i];
          if (!(m.split("").every(val => characters["censor"].includes(val)))) {
            final.push(m)
          }
        }
        if (final.length>0) {
          Results.innerHTML = "Found a match! "+[...new Set(final)].join(", ").replaceAll("\n","\\n").replaceAll("  "," &nbsp;").replaceAll("<","&lt;")
        }
        else {
          Results.innerHTML = "No matches found!"
        }
      }
    </script>

    <script src="https://R74n.com/load.js"></script>

</head>

<body>

<header>
<a href="/" class="home"></a>
<h1 class="pagetitle">Censor Checker</h1>
</header>

<main class="content" style="text-align:center">
Can you beat our high-tech word detector?
<br><br>
<input type="text" placeholder="Original Word..." id="WordBox">
OR
<select id="PresetSelect">
  <option value="none" selected hidden disabled>Pick a Word List</option>
</select>
<br><br>
<span id="Results"></span>
<br><br>
<textarea placeholder="Type text here..." style="height:200px;width:95%" id="TextBox"></textarea>
<br><br>
<input type="button" value="Check Text" onclick="checktext();">







</main>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-93720349-6"></script>
<script>
  window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-93720349-6');
</script>

</body>
</html>