<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
<!--
⢠⣤⣤⣤⣤⣤⣤⣤⣤⣤⣤⣄⣀⣀⠄⠄⠄⠄⠄⠄⠄⠄⣀⣀⣀⣀⣀⣀⣀⡀
⢸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⣆⡀⠄⠄⠄⠄⠿⠿⠿⠿⢿⣿⣿⠇
⢸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣷⠄⠄⠄⠄⠄⠄⠄⣠⣿⡿⠁⠄
⢸⣿⣿⣿⣿⠄⠄⠄⠄⠄⠄⠄⠈⠹⣿⣿⣿⣿⣧⠄⠄⠄⠄⠄⣰⣿⡿⠁⠄⠄
⢸⣿⣿⣿⣿⠄⠄⠄⠄⠄⠄⠄⠄⠄⣿⣿⣿⣿⣿⠄⠄⠄⠄⢀⣿⣿⠇⠄⠄⠄
⢸⣿⣿⣿⣿⠄⠄⠄⠄⠄⠄⠄⠄⢀⣿⣿⣿⣿⡟⠄⠄⠄⠄⠘⠛⠛⢀⣀⣀⠄
⢸⣿⣿⣿⣿⣤⣤⣤⣤⣤⣤⣤⣶⣾⣿⣿⣿⡿⠄⠄⠄⠄⠄⠄⢀⣴⣿⣿⣿⠄
⢸⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⠋⠄⠄⠄⠄⠄⠄⣠⣿⠟⢹⣿⣿⠄
⢸⣿⣿⣿⣿⠿⠿⠿⣿⣿⣿⣿⣯⣍⠁⠄⠄⠄⠄⠄⠄⢀⣾⣿⣉⣀⣸⣿⣿⣀
⢸⣿⣿⣿⣿⠄⠄⠄⠄⠙⢿⣿⣿⣿⣷⣄⠄⠄⠄⠄⠄⠸⠿⠿⠿⠿⢿⣿⣿⠿
⢸⣿⣿⣿⣿⠄⠄⠄⠄⠄⠈⣿⣿⣿⣿⣿⣆⠄⠄⠄⠄⠄⠄⠄⠄⠄⠸⠿⠿⠄
⢸⣿⣿⣿⣿⠄⠄⠄⠄⠄⠄⠈⢿⣿⣿⣿⣿⣇⠄⠄⠄⠄⣿⣿⣧⣾⣿⣿⣷⡀
⢸⣿⣿⣿⣿⠄⠄⠄⠄⠄⠄⠄⠈⢻⣿⣿⣿⣿⣦⠄⠄⠄⣿⣿⡏⠄⢸⣿⣿⡇
⢸⣿⣿⣿⣿⠄⠄⠄⠄⠄⠄⠄⠄⠄⢿⣿⣿⣿⣿⣆⠄⠄⣿⣿⡇⠄⢸⣿⣿⡇
⠘⠛⠛⠛⠛⠄⠄⠄⠄⠄⠄⠄⠄⠄⠄⠛⠛⠛⠛⠛⠃⠄⠛⠛⠃⠄⠘⠛⠛⠃
This HTML and its contents are property of R74n.com.
-->
    <meta name="description" content="R74n">
    <meta name="keywords" content="R74n, ryan, RyanUwU, 4755">
    <meta name="author" content="R74n">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="twitter:image:alt" content="R74n">
    <meta name="twitter:image" content="https://R74n.com/icons/avatar.png">
    <title>Infinite Chef - R74n</title>
    <script type="application/ld+json">{"@context" : "http://schema.org","@type" : "Organization","name" : "R74n","url" : "https://r74n.com","sameAs" : ["https://twitter.com/R74nCom","https://twitter.com/CopyPasteDump","https://www.youtube.com/channel/UCzS6ufDfiDxbHVL001GwFeA"], "logo":"https://r74n.com/icons/favicon.png", "email":"contact@r74n.com"}</script>
    <link rel="stylesheet" type="text/css" href="../normalize.css">
    <link rel="stylesheet" type="text/css" href="../stylesheet.css">
    <link rel="apple-touch-icon" sizes="180x180" href="https://R74n.com/icons/apple-touch-icon.png?v=R74n-2">
    <link rel="icon" type="image/png" sizes="32x32" href="https://R74n.com/icons/favicon-32x3.png?v=R74n-2">
    <link rel="icon" type="image/png" sizes="16x16" href="https://R74n.com/icons/favicon-16x16.png?v=R74n-2">
    <link rel="manifest" href="https://R74n.com/manifest.json">
    <link rel="mask-icon" href="https://R74n.com/icons/safari-pinned-tab.svg?v=R74n-2" color="#1cd2d2">
    <link rel="shortcut icon" href="https://R74n.com/icons/favicon.ico?v=R74n-2">
    <meta name="msapplication-TileColor" content="#00ffff">
    <meta name="theme-color" content="#00ffff">
    <meta name="msapplication-config" content="https://R74n.com/icons/browserconfig.xml?v=R74n-2">

    <script src="https://R74n.com/load.js"></script>

    <style>
      .content {
        margin: 0;
      }
      @font-face {
        font-family: 'VT323';
        src: url('fonts/VT323-Regular.ttf') format('truetype');
      }
      #gameDiv {
        font-family: 'VT323';
        max-width: 100%;
        text-align: center;
        margin: auto;
        display: flex;
        flex-direction: row;
        border: solid 3px #614202;
        box-sizing: border-box;
        background-color: #614202;
      }
      #gameCanvas {
        background-color: #e3d5ba;
        width: 100%;
        /* background image background.png, tiled, pixel art */
        background-image: url('background.png');
        background-size: 200px 200px;
        image-rendering: pixelated;
        image-rendering: -moz-crisp-edges;
        image-rendering: crisp-edges;
      }
      #loadingScreen {
        background-color: #e3d5ba;
        width: 100%;
        height: 100%;
        display: flex;
        color: black;
        align-items: center;
        justify-content: center;
        z-index: 10;
      }
      #mainDiv {
        flex-direction: column;
      }
      #rightDiv {
        display: flex;
        flex-direction: column;
        background-color: #edebe6;
        height: 100%;
        border-left: solid gray 3px;
      }
      #controlsBar {
        display: flex;
        align-items: stretch;
        flex-direction: column;
        flex-grow: 1;
        height: 100%;
        box-shadow: -3px 0px 4px rgba(0,0,0,0.25);
        z-index: 6;
      }
      #controlsBar button {
        flex-grow: 1;
        border-radius: 0;
        margin: 0;
        box-shadow: none;
        border-bottom: 3px solid gray;
        background-color: #edebe6;
        color: black;
        box-sizing: border-box;
        max-height: unset;
        position: relative;
      }
      #controlsBar button img {
        /* shadow */
        filter: drop-shadow(0px 2px 1px rgba(0,0,0,0.25));
        width: 2.5em;
      }
      #controlsBar button[selected] {
        background-color: #fff782;
        color: white;
      }
      /* last button no border */
      #controlsBar button:last-child {
        border-bottom: none;
      }
      #prepBar {
        background-color: #9b6723;
        padding: 7.5px;
        border-bottom: solid 3px #614202;
        box-sizing: border-box;
        box-shadow: 0px 3px 4px rgba(0,0,0,0.25);
        z-index: 5;
        /* background-image: url('wood.png');
        background-size: 100px 100px; */
      }
      #prepBar ::placeholder {
        color: #614202;
        opacity: 1; /* Firefox */
      }
      #prepBar ::-ms-input-placeholder { /* Edge 12 -18 */
        color: red;
      }
      #prepText {
        width: 100%;
        height: 100%;
        padding: 0;
        background-color: rgba(0, 0, 0, 0);
        border: none;
        color: white;
        text-align: left;
        border-radius: 0;
        font-size: 30px;
      }

      /* mobile */
      @media (max-width: 700px) {
        #gameDiv {
          width: 100%;
          height: 100%;
        }
      }
      /* desktop */
      @media (min-width: 700px) {
      }
    </style>

</head>
<body>


<a href="https://R74n.com" class="backbutton">⦉</a>
<h1 class="pagetitle">Infinite Chef</h1>
<div class="content">


<div id="gameDiv">
  <div id="mainDiv" style="display: none;">
    <div id="prepBar">
      <input type="text" id="prepText" placeholder="Search ingredients...">
    </div>
    <canvas id="gameCanvas"></canvas>
  </div>
  <div id="rightDiv" style="display: none;">
    <div id="controlsBar">
      <button selected><img src="../shapes/png/semicircle_bottom.png" class="pixelart"></button>
      <button><img src="../shapes/png/stack.png" class="pixelart"></button>
      <button><img src="../shapes/png/flame.png" class="pixelart"></button>
      <button><img src="../shapes/png/liquid.png" class="pixelart"></button>
    </div>
  </div>
  <div id="loadingScreen">
    Preparing Kitchen...
  </div>
</div>
<script>
  function refreshCanvas() {
    var canvas = document.getElementById('gameCanvas');
    var gameDiv = document.getElementById('gameDiv');
    canvas.width = gameDiv.clientWidth - document.getElementById('controlsBar').clientWidth;
    canvas.height = gameDiv.clientHeight - document.getElementById('prepBar').clientHeight - 2;
    ctx.webkitImageSmoothingEnabled = false;
    ctx.mozImageSmoothingEnabled = false;
    ctx.imageSmoothingEnabled = false;
    drawCanvas();
  }
  var canvas = document.getElementById('gameCanvas');
  var gameDiv = document.getElementById('gameDiv');
  var mainDiv = document.getElementById('mainDiv');
  var rightDiv = document.getElementById('rightDiv');
  var ctx = canvas.getContext('2d');
  canvas.width = Math.min(700, window.innerWidth);
  canvas.height = 500;
  // set to pixelated rendering
  ctx.webkitImageSmoothingEnabled = false;
  ctx.mozImageSmoothingEnabled = false;
  ctx.imageSmoothingEnabled = false;
  gameDiv.style.height = canvas.height + 'px';
  gameDiv.style.width = canvas.width + 'px';
  mainDiv.style.height = canvas.height + 'px';
  mainDiv.style.width = canvas.width + 'px';
  if (window.innerWidth < 700) {
    // mobile scripts
  }
  else {
    // desktop scripts
  }
  fps = 30;
  gameLoop = null;
  function tick() {
    drawCanvas();
  }
  imageCache = {};
  function loadImage(src) {
    if (imageCache[src] == undefined) {
      imageCache[src] = new Image();
      imageCache[src].onload = function() {
        this.loaded = true;
      }
      imageCache[src].src = src;
    }
    return imageCache[src];
  }
  function drawImageSized(src, top_left, bottom_right) {
    var img = loadImage(src);
    // draw image based on percentage of canvas
    ctx.drawImage(img, top_left[0] * canvas.width, top_left[1] * canvas.height, (bottom_right[0] - top_left[0]) * canvas.width, (bottom_right[1] - top_left[1]) * canvas.height);
  }
  function rgbToHsl(r, g, b) {
    r /= 255, g /= 255, b /= 255;
    var max = Math.max(r, g, b), min = Math.min(r, g, b);
    var h, s, l = (max + min) / 2;
    if (max == min) {
      h = s = 0; // achromatic
    } else {
      var d = max - min;
      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
      switch (max) {
        case r: h = (g - b) / d + (g < b ? 6 : 0); break;
        case g: h = (b - r) / d + 2; break;
        case b: h = (r - g) / d + 4; break;
      }
      h /= 6;
    }
    return [h, s, l];
  }
  function hslToRgb(h, s, l) {
    var r, g, b;
    if (s == 0) {
      r = g = b = l; // achromatic
    } else {
      var hue2rgb = function hue2rgb(p, q, t) {
        if (t < 0) t += 1;
        if (t > 1) t -= 1;
        if (t < 1 / 6) return p + (q - p) * 6 * t;
        if (t < 1 / 2) return q;
        if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
        return p;
      }
      var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
      var p = 2 * l - q;
      r = hue2rgb(p, q, h + 1 / 3);
      g = hue2rgb(p, q, h);
      b = hue2rgb(p, q, h - 1 / 3);
    }
    return [r * 255, g * 255, b * 255];
  }
  function colorizeImage(src,h,s,l) {
    var img = loadImage(src);
    if (!img.loaded) { return img; }
    var name = src+h+","+s+","+l;
    if (imageCache[name]) { return imageCache[name]; }
    var canvas = document.createElement('canvas');
    canvas.width = img.width;
    canvas.height = img.height;
    var ctx = canvas.getContext('2d');
    ctx.drawImage(img, 0, 0);
    var imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);
    for (var i = 0; i < imgData.data.length; i += 4) {
      var rgb = [imgData.data[i], imgData.data[i+1], imgData.data[i+2]];
      var hsl = rgbToHsl(rgb[0], rgb[1], rgb[2]);
      hsl[0] = Math.min(1, Math.max(0, hsl[0] + h));
      hsl[1] = Math.min(1, Math.max(0, hsl[1] + s));
      hsl[2] = Math.min(1, Math.max(0, hsl[2] + l));
      rgb = hslToRgb(hsl[0], hsl[1], hsl[2]);
      imgData.data[i] = rgb[0];
      imgData.data[i+1] = rgb[1];
      imgData.data[i+2] = rgb[2];
    }
    ctx.putImageData(imgData, 0, 0);
    imageCache[name] = new Image();
    imageCache[name].src = canvas.toDataURL();
    return imageCache[name];
  }
  var imgPath = "https://r74n.com/cook/";
  function drawCanvas() {
    // draw from file table.png to fit the whole canvas
    ctx.drawImage(loadImage(imgPath+'table.png'), 0, 0, canvas.width, canvas.height);
    // put in the middle on the table
    // drawImageSized("bowl.png", [0.25, 0.4], [0.75, 0.75]);
    var bowlImg = loadImage(imgPath+'bowl.png');
    ctx.drawImage(bowlImg, canvas.width/2 - bowlImg.width/2*5, canvas.height/2 - bowlImg.height/2*5+75, bowlImg.width*5, bowlImg.height*5);
    var liquidImg = colorizeImage('bowl_liquid.png',0.1,0,0.2);
    ctx.drawImage(liquidImg, canvas.width/2 - liquidImg.width/2*5, canvas.height/2 - liquidImg.height/2*5+75, liquidImg.width*5, liquidImg.height*5);
  }
  refreshCanvas();
  window.addEventListener('resize', refreshCanvas);
  window.addEventListener('load', function(){
    document.getElementById('loadingScreen').style.display = 'none';
    document.getElementById('mainDiv').style.display = 'flex';
    document.getElementById('rightDiv').style.display = 'flex';
    refreshCanvas();
    gameLoop = setInterval(tick, 1000 / fps);
  });
</script>







</div>


<!-- i like having this but ublock blocks these things anyway -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-93720349-6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-93720349-6');
</script>

</body>
</html>